{"is_source_file": true, "format": "TypeScript", "description": "This file defines API service functions for a to-do application frontend, including retrieving configuration, listing, creating, updating, and deleting todos via HTTP requests.", "external_files": ["../types/todo"], "external_methods": [], "published": ["getApiBaseUrl", "listTodos", "createTodo", "updateTodo", "deleteTodoById"], "classes": [], "methods": [{"name": "export function getApiBaseUrl(): string { getApiBaseUrl", "description": "Returns the base URL for the backend API, fetching from environment variables or defaulting to '/api'.", "scope": "", "scopeKind": ""}, {"name": "export async function listTodos(filter: TodoFilter = \"all\"): Promise<Todo[]> { listTodos", "description": "Fetches a list of todos with optional filtering based on completion status.", "scope": "", "scopeKind": ""}, {"name": "export async function createTodo(payload: NewTodo): Promise<Todo> { createTodo", "description": "Creates a new todo item by sending a POST request with the provided payload.", "scope": "", "scopeKind": ""}, {"name": "export async function updateTodo(id: string, payload: UpdateTodo): Promise<Todo> { updateTodo", "description": "Updates an existing todo by id using a PATCH request with the provided data.", "scope": "", "scopeKind": ""}, {"name": "export async function deleteTodoById(id: string): Promise<void> { deleteTodoById", "description": "Deletes a todo item identified by id.", "scope": "", "scopeKind": ""}, {"name": "function getFetch(): any | undefined { getFetch", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "function getURLCtor(): any | undefined { getURLCtor", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["getApiBaseUrl", "getURLCtor", "getFetch", "res.json", "res.ok", "res.status", "res.statusText"], "search-terms": ["api functions", "todo API", "TypeScript API service", "todo frontend", "HTTP fetch", "environment variable config"], "state": 2, "file_id": 16, "knowledge_revision": 64, "git_revision": "53e9fa560e32163a36c45d3b9f4fd0e6a78a196f", "revision_history": [{"33": ""}, {"59": ""}, {"61": ""}, {"62": ""}, {"63": ""}, {"64": "53e9fa560e32163a36c45d3b9f4fd0e6a78a196f"}], "ctags": [{"_type": "tag", "name": "URLCtor", "path": "/home/kavia/workspace/code-generation/simple-todo-application-129206-129215/todo_frontend/src/services/api.ts", "pattern": "/^  const URLCtor = getURLCtor();$/", "language": "TypeScript", "kind": "constant", "scope": "listTodos", "scopeKind": "function"}, {"_type": "tag", "name": "anyImportMeta", "path": "/home/kavia/workspace/code-generation/simple-todo-application-129206-129215/todo_frontend/src/services/api.ts", "pattern": "/^    const anyImportMeta = import.meta as unknown as { env?: Record<string, string> };$/", "language": "TypeScript", "kind": "constant", "scope": "getApiBaseUrl", "scopeKind": "function"}, {"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/simple-todo-application-129206-129215/todo_frontend/src/services/api.ts", "pattern": "/^  const base = fromVite || \"\\/api\"; \\/\\/ fallback to \\/api if not set$/", "language": "TypeScript", "kind": "constant", "scope": "getApiBaseUrl", "scopeKind": "function"}, {"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/simple-todo-application-129206-129215/todo_frontend/src/services/api.ts", "pattern": "/^  const base = getApiBaseUrl();$/", "language": "TypeScript", "kind": "constant", "scope": "createTodo", "scopeKind": "function"}, {"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/simple-todo-application-129206-129215/todo_frontend/src/services/api.ts", "pattern": "/^  const base = getApiBaseUrl();$/", "language": "TypeScript", "kind": "constant", "scope": "deleteTodoById", "scopeKind": "function"}, {"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/simple-todo-application-129206-129215/todo_frontend/src/services/api.ts", "pattern": "/^  const base = getApiBaseUrl();$/", "language": "TypeScript", "kind": "constant", "scope": "listTodos", "scopeKind": "function"}, {"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/simple-todo-application-129206-129215/todo_frontend/src/services/api.ts", "pattern": "/^  const base = getApiBaseUrl();$/", "language": "TypeScript", "kind": "constant", "scope": "updateTodo", "scopeKind": "function"}, {"_type": "tag", "name": "baseUrl", "path": "/home/kavia/workspace/code-generation/simple-todo-application-129206-129215/todo_frontend/src/services/api.ts", "pattern": "/^  const baseUrl = `${base}\\/todos`;$/", "language": "TypeScript", "kind": "constant", "scope": "listTodos", "scopeKind": "function"}, {"_type": "tag", "name": "createTodo", "path": "/home/kavia/workspace/code-generation/simple-todo-application-129206-129215/todo_frontend/src/services/api.ts", "pattern": "/^export async function createTodo(payload: NewTodo): Promise<Todo> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "deleteTodoById", "path": "/home/kavia/workspace/code-generation/simple-todo-application-129206-129215/todo_frontend/src/services/api.ts", "pattern": "/^export async function deleteTodoById(id: string): Promise<void> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "f", "path": "/home/kavia/workspace/code-generation/simple-todo-application-129206-129215/todo_frontend/src/services/api.ts", "pattern": "/^  const f = getFetch();$/", "language": "TypeScript", "kind": "constant", "scope": "createTodo", "scopeKind": "function"}, {"_type": "tag", "name": "f", "path": "/home/kavia/workspace/code-generation/simple-todo-application-129206-129215/todo_frontend/src/services/api.ts", "pattern": "/^  const f = getFetch();$/", "language": "TypeScript", "kind": "constant", "scope": "deleteTodoById", "scopeKind": "function"}, {"_type": "tag", "name": "f", "path": "/home/kavia/workspace/code-generation/simple-todo-application-129206-129215/todo_frontend/src/services/api.ts", "pattern": "/^  const f = getFetch();$/", "language": "TypeScript", "kind": "constant", "scope": "listTodos", "scopeKind": "function"}, {"_type": "tag", "name": "f", "path": "/home/kavia/workspace/code-generation/simple-todo-application-129206-129215/todo_frontend/src/services/api.ts", "pattern": "/^  const f = getFetch();$/", "language": "TypeScript", "kind": "constant", "scope": "updateTodo", "scopeKind": "function"}, {"_type": "tag", "name": "g", "path": "/home/kavia/workspace/code-generation/simple-todo-application-129206-129215/todo_frontend/src/services/api.ts", "pattern": "/^  const g: any = typeof globalThis !== \"undefined\" ? (globalThis as any) : undefined;$/", "language": "TypeScript", "kind": "constant", "scope": "getFetch", "scopeKind": "function"}, {"_type": "tag", "name": "g", "path": "/home/kavia/workspace/code-generation/simple-todo-application-129206-129215/todo_frontend/src/services/api.ts", "pattern": "/^  const g: any = typeof globalThis !== \"undefined\" ? (globalThis as any) : undefined;$/", "language": "TypeScript", "kind": "constant", "scope": "getURLCtor", "scopeKind": "function"}, {"_type": "tag", "name": "getApiBaseUrl", "path": "/home/kavia/workspace/code-generation/simple-todo-application-129206-129215/todo_frontend/src/services/api.ts", "pattern": "/^export function getApiBaseUrl(): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getFetch", "path": "/home/kavia/workspace/code-generation/simple-todo-application-129206-129215/todo_frontend/src/services/api.ts", "pattern": "/^function getFetch(): any | undefined {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getURLCtor", "path": "/home/kavia/workspace/code-generation/simple-todo-application-129206-129215/todo_frontend/src/services/api.ts", "pattern": "/^function getURLCtor(): any | undefined {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "listTodos", "path": "/home/kavia/workspace/code-generation/simple-todo-application-129206-129215/todo_frontend/src/services/api.ts", "pattern": "/^export async function listTodos(filter: TodoFilter = \"all\"): Promise<Todo[]> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/simple-todo-application-129206-129215/todo_frontend/src/services/api.ts", "pattern": "/^  const res = await f(`${base}\\/todos\\/${encodeURIComponent(id)}`, {$/", "language": "TypeScript", "kind": "constant", "scope": "deleteTodoById", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/simple-todo-application-129206-129215/todo_frontend/src/services/api.ts", "pattern": "/^  const res = await f(`${base}\\/todos\\/${encodeURIComponent(id)}`, {$/", "language": "TypeScript", "kind": "constant", "scope": "updateTodo", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/simple-todo-application-129206-129215/todo_frontend/src/services/api.ts", "pattern": "/^  const res = await f(`${base}\\/todos`, {$/", "language": "TypeScript", "kind": "constant", "scope": "createTodo", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/simple-todo-application-129206-129215/todo_frontend/src/services/api.ts", "pattern": "/^  const res = await f(url.toString(), {$/", "language": "TypeScript", "kind": "constant", "scope": "listTodos", "scopeKind": "function"}, {"_type": "tag", "name": "updateTodo", "path": "/home/kavia/workspace/code-generation/simple-todo-application-129206-129215/todo_frontend/src/services/api.ts", "pattern": "/^export async function updateTodo(id: string, payload: UpdateTodo): Promise<Todo> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/simple-todo-application-129206-129215/todo_frontend/src/services/api.ts", "pattern": "/^  const url = new URLCtor(baseUrl);$/", "language": "TypeScript", "kind": "constant", "scope": "listTodos", "scopeKind": "function"}], "hash": "d0a05130ba8c7288aa98528364a96ef6", "format-version": 4, "code-base-name": "todo_frontend", "filename": "todo_frontend/src/services/api.ts"}